PRAGMA foreign_keys = off;
DROP TABLE IF EXISTS PERSON;
CREATE TABLE PERSON (ID INTEGER NOT NULL, NAME VARCHAR(45) NOT NULL, EMAIL VARCHAR(45) NOT NULL, STATUS TINYINT(1) NOT NULL, COMMENT VARCHAR(200) NOT NULL, CREATEAT TIMESTAMP NOT NULL, CONSTRAINT PK_PERSON PRIMARY KEY (ID), CONSTRAINT CHK_STATUS_PERSON CHECK(STATUS IN (1,0)), CONSTRAINT UNQ_EMAIL_PERSON UNIQUE(EMAIL)
DROP TABLE IF EXISTS PHYSICALPERSON;
CREATE TABLE PHYSICALPERSON (ID INTEGER NOT NULL, PERSON_ID INTEGER NOT NULL, CPF CHAR (11) NOT NULL, SALARY DECIMAL (12, 2) NOT NULL, BIRTHDAY DATE NOT NULL, GENDER VARCHAR (1) NOT NULL, CONSTRAINT PK_PERSON PRIMARY KEY (ID), CONSTRAINT FK_PHYSICALPERSON_PERSON FOREIGN KEY (PERSON_ID) REFERENCES PERSON (ID), CONSTRAINT UNQ_CPF_PHYSICALPERSON UNIQUE (CPF), CONSTRAINT CHK_SALARY_PHYSICALPERSON CHECK ((SALARY >= 0) AND (SALARY <= 999999999999.99))
DROP TABLE IF EXISTS JURIDICALPERSON;
CREATE TABLE JURIDICALPERSON (ID INTEGER NOT NULL, PERSON_ID INTEGER NOT NULL, CNPJ CHAR(14) NOT NULL, COMPANYNAME VARCHAR(45) NOT NULL, CONSTRAINT PK_PERSON PRIMARY KEY(ID), CONSTRAINT FK_JURIDICALPERSON_PERSON FOREIGN KEY (PERSON_ID) REFERENCES PERSON(ID), CONSTRAINT UNQ_CNPJ_JURIDICALPERSON UNIQUE(CNPJ)
DROP TABLE IF EXISTS USER;
CREATE TABLE USER (ID INTEGER CONSTRAINT PK_USER PRIMARY KEY AUTOINCREMENT, NAME VARCHAR(45) NOT NULL, USERNAME VARCHAR(128) NOT NULL, PASSWORD VARCHAR(128) NOT NULL, TYPEUSER TINYINT(1) NOT NULL, CREATEAT TIMESTAMP NOT NULL, CONSTRAINT UNQ_USERNAME_USER UNIQUE(USERNAME)
INSERT INTO USER (ID, NAME, USERNAME, PASSWORD, TYPEUSER, CREATEAT) VALUES (1, 'Administrator', 'c7ad44cbad762a5da0a452f9e854fdc1e0e7a52a38015f23f3eab1d80b931dd472634dfac71cd34ebc35d16ab7fb8a90c81f975113d6c7538dc69dd8de9077ec', 'c7ad44cbad762a5da0a452f9e854fdc1e0e7a52a38015f23f3eab1d80b931dd472634dfac71cd34ebc35d16ab7fb8a90c81f975113d6c7538dc69dd8de9077ec', 1,'2020-09-23 05:40:05.1785004'
PRAGMA foreign_keys = on;